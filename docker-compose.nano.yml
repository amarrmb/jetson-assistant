# Jetson Orin Nano â€” Lightweight Pipeline
# Ollama 1.5B (external) + Voice Assistant (Piper TTS + Whisper STT)
#
# Prerequisites:
#   Install Ollama and pull qwen2.5:1.5b
#   curl -fsSL https://ollama.com/install.sh | sh
#   ollama pull qwen2.5:1.5b
#
# Usage: docker compose -f docker-compose.nano.yml up -d

x-common: &common
  runtime: nvidia
  network_mode: host
  restart: unless-stopped

services:
  assistant:
    <<: *common
    image: ghcr.io/amarrmb/jetson-assistant:nano
    container_name: assistant
    devices:
      - /dev/snd
    volumes:
      - /dev:/dev
    environment:
      - ALSA_CARD=${ALSA_CARD:-}
    command: ["assistant", "--config", "configs/nano.yaml"]
